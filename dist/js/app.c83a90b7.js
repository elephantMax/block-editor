(function(t){function e(e){for(var r,s,a=e[0],p=e[1],u=e[2],f=0,h=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(t[r]=p[r]);c&&c(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var p=n[a];0!==o[p]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/block-editor/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],p=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=p;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"139c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"wrapper"},[n("div",{ref:"parent",staticClass:"wrapper__parent parent"},[n("Block",{attrs:{parentData:{parentTop:t.parentTop,parentLeft:t.parentLeft,parentWidth:t.parentWidth,parentHeight:t.parentHeight}}})],1),n("Form",{staticClass:"wrapper__form"})],1)])},i=[],s=n("5530"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"form__group"},[n("label",{staticClass:"form__label"},[t._v(" Top ")]),n("input",{staticClass:"form__input input",attrs:{type:"number"},domProps:{value:t.top},on:{input:t.updateTop}})]),n("div",{staticClass:"form__group"},[n("label",{staticClass:"form__label"},[t._v(" Left ")]),n("input",{staticClass:"form__input input",attrs:{type:"number"},domProps:{value:t.left},on:{input:t.updateLeft}})]),n("div",{staticClass:"form__group"},[n("label",{staticClass:"form__label"},[t._v(" Height ")]),n("input",{staticClass:"form__input input",attrs:{type:"number"},domProps:{value:t.height},on:{input:t.updateHeight}})]),n("div",{staticClass:"form__group"},[n("label",{staticClass:"form__label"},[t._v(" Width ")]),n("input",{staticClass:"form__input input",attrs:{type:"number"},domProps:{value:t.width},on:{input:t.updateWidth}})])])},p=[],u=n("2f62"),c={name:"Form",methods:{updateWidth:function(t){this.$store.commit("setWidth",t.target.value)},updateHeight:function(t){this.$store.commit("setHeight",t.target.value)},updateTop:function(t){this.$store.commit("setTop",t.target.value)},updateLeft:function(t){this.$store.commit("setLeft",t.target.value)}},computed:Object(s["a"])({},Object(u["b"])(["top","left","width","height"]))},f=c,h=n("2877"),l=Object(h["a"])(f,a,p,!1,null,null,null),m=l.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block",style:{width:t.width,height:t.height,top:t.top,left:t.left},on:{mouseover:function(e){t.mouseOverDot=!0},mousemove:t.dotHandler}},[t._l(t.sticks,(function(e){var r=e.modificator;return n("span",{key:r,class:"block__stick block__stick--"+r,on:{mousemove:function(e){return e.stopPropagation(),t.resize(r,e)},mousedown:function(e){return e.stopPropagation(),t.mouseDownStickHandler.apply(null,arguments)},mouseup:function(e){t.mouseDownStick=!1},mouseleave:function(e){t.mouseDownStick=!1}}})})),n("span",{staticClass:"block__dot",on:{mousedown:t.mouseDownDotHandler,mouseup:function(e){t.mouseDownDot=!1}}})],2)},g=[],v={name:"Block",props:["parentData"],data:function(){return{mouseOverDot:!1,mouseDownDot:!1,mouseOverStick:!1,mouseDownStick:!1,sticks:[{modificator:"top"},{modificator:"left"},{modificator:"right"},{modificator:"bot"}]}},methods:{mouseDownDotHandler:function(){this.mouseDownDot=!0,this.mouseOverDot=!0},mouseDownStickHandler:function(){this.mouseDownStick=!0,this.mouseOverStick=!0},dotHandler:function(t){if(t.preventDefault(),this.canDrag){var e=t.clientX-this.parentData.parentLeft-this.$store.getters.width/2,n=t.clientY-this.parentData.parentTop-this.$store.getters.height/2;this.$store.commit("setTop",n),this.$store.commit("setLeft",e)}},resize:function(t,e){if(e.preventDefault(),this.canResize)if("bot"===t){var n=e.clientY-this.parentData.parentTop-this.$store.getters.top;this.$store.commit("setHeight",n)}else if("right"===t){var r=e.clientX-this.parentData.parentLeft-this.$store.getters.left;this.$store.commit("setWidth",r)}else if("top"===t){var o=this.parentData.parentHeight-(this.parentData.parentHeight-(this.$store.getters.top+this.$store.getters.height))-e.clientY+this.parentData.parentTop;this.$store.commit("setHeight",o);var i=e.clientY-this.parentData.parentTop;this.$store.commit("setTop",i)}else if("left"===t){var s=this.parentData.parentWidth-(this.parentData.parentWidth-(this.$store.getters.left+this.$store.getters.width))-e.clientX+this.parentData.parentLeft;this.$store.commit("setWidth",s);var a=e.clientX-this.parentData.parentLeft;this.$store.commit("setLeft",a)}}},computed:{top:function(){return"".concat(this.$store.getters.top,"px")},left:function(){return"".concat(this.$store.getters.left,"px")},height:function(){return"".concat(this.$store.getters.height,"px")},width:function(){return"".concat(this.$store.getters.width,"px")},canDrag:function(){return!(!this.mouseDownDot||!this.mouseOverDot)},canResize:function(){return!(!this.mouseDownStick||!this.mouseOverStick)}}},_=v,w=Object(h["a"])(_,d,g,!1,null,null,null),b=w.exports,D={name:"App",components:{Form:m,Block:b},methods:{setupParent:function(){this.$refs.parent&&(this.$store.commit("setParentTop",this.$refs.parent.offsetTop),this.$store.commit("setParentLeft",this.$refs.parent.offsetLeft),this.$store.commit("setParentHeight",this.$refs.parent.clientHeight),this.$store.commit("setParentWidth",this.$refs.parent.clientWidth))}},mounted:function(){this.setupParent(),window.addEventListener("resize",this.setupParent)},destroyed:function(){window.removeEventListener("resize",this.setupParent)},computed:Object(s["a"])({},Object(u["b"])(["parentTop","parentLeft","parentWidth","parentHeight"]))},$=D,H=Object(h["a"])($,o,i,!1,null,null,null),k=H.exports;r["a"].use(u["a"]);var y=new u["a"].Store({state:{top:100,left:100,height:100,width:100,parentTop:null,parentLeft:null,parentWidth:null,parentHeight:null},mutations:{setTop:function(t,e){e<0||e>t.parentHeight-t.height||(t.top=e)},setLeft:function(t,e){e<0||e>t.parentWidth-t.width||(t.left=e)},setHeight:function(t,e){t.top+e<t.parentHeight&&(t.height=e)},setWidth:function(t,e){t.left+e<t.parentWidth&&(t.width=e)},setParentTop:function(t,e){t.parentTop=e},setParentLeft:function(t,e){t.parentLeft=e},setParentHeight:function(t,e){e<t.top&&(t.top=e-t.width),t.parentHeight=e},setParentWidth:function(t,e){e<t.left&&(t.left=e-t.width),t.parentWidth=e}},actions:{},getters:{top:function(t){return t.top},left:function(t){return t.left},height:function(t){return t.height},width:function(t){return t.width},parentTop:function(t){return t.parentTop},parentLeft:function(t){return t.parentLeft},parentHeight:function(t){return t.parentHeight},parentWidth:function(t){return t.parentWidth}}});n("139c");r["a"].config.productionTip=!1,new r["a"]({store:y,render:function(t){return t(k)}}).$mount("#app")}});
//# sourceMappingURL=app.c83a90b7.js.map